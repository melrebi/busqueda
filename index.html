<!DOCTYPE html>
<html>
  <body>
    <h1>Buscador de Catastro</h1>
    <form>
      <input 
        type="text" 
        name="query" 
        placeholder="NÃºmero de expediente" 
        required
      >
      <button type="submit">Buscar</button>
    </form>
    <div id="result"></div>
    <script>
      document.querySelector("form").addEventListener("submit", async (e) => {
        e.preventDefault();
        const query = e.target.query.value;
        const response = await fetch(`?query=${encodeURIComponent(query)}`);
        const data = await response.json();
        document.getElementById("result").innerText = 
          data.results ? JSON.stringify(data.results, null, 2) : data.message;
      });
    </script>
  </body>
</html>


